<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Mobile Rhythm</title>
<!--
This project (C) 2010 Håvard Gulldahl <havard@gulldahl.no>
https://github.com/havardgulldahl/Mobile-Rhythm

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

-->

        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.css">
        <script src="http://code.jquery.com/jquery-1.4.4.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.js"></script>
        <script>

$(function() {
var ws = new WebSocket("ws://localhost:9004/");
ws.onopen = function() {
      ws.send("Hello Mr. Server!");
};
ws.onmessage = function (e) { player.parse(e.data); };
ws.onclose = function() { };

var player = {
    play: function() { ws.send("player:play"); },
    pause: function() { ws.send("player:pause"); },
    previous: function() { ws.send("player:previous"); },
    next: function() { ws.send("player:next"); },
    seek: function(offset) { ws.send("player:seek:"+parseInt(offset, 10)); },
    volume: function(offset) { ws.send("player:volume:"+parseInt(offset, 10)); },
    parse: function(data) {
        console.debug("Got data from websocket: %o", data);
    }
};

$("#control-playpause").toggle(function(playev) {
    player.play();
}, function(pauseev) {
    player.pause();
});
$("#control-prev").click(function(ev) { player.previous(); });
$("#control-next").click(function(ev) { player.next(); });
$("#control-seek").change(function(ev) { player.seek(this.value); });
$("#control-volume").change(function(ev) { player.volume(this.value); });

});

        </script>
    </head>
<body>

<div id="start" data-role="page">
    <div data-role="header">
        <h1>Rhythmbox running on localhost</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <p>
            <div id="now-playing">
               <em>Now playing: stopped</em>
               <div id="control-coverart">
               </div>
               <fieldset data-role="fieldcontain">
                    <label id="control-position" for="control-seek">2:44/3:55</label>
                    <input type="range" id="control-seek" value="0" min="0" max="1000">
               </fieldset>
               <fieldset data-role="fieldcontain"> 
                    <div data-role="controlgroup" data-type="horizontal">
                        <a id="control-prev" data-role="button" data-icon="arrow-l" href="#">Previous</a>
                        <a id="control-playpause" data-role="button" data-icon="delete" href="#">Stop</a>
                        <a id="control-next" data-role="button" data-icon="arrow-r" href="#">Next</a>
                    </div>
               </fieldset>
               <fieldset data-role="fieldcontain">
                    <label for="control-volume">Volume: </label>
                    <input type="range" id="control-volume" value="0" min="0" max="100">
               </fieldset>
            </div>
            <div id="play-queue">
                <ol data-role="listview" data-inset="true">
                </ol>
            </div>
        </p>      
    </div><!-- /content -->

    <div data-role="footer">
        <div data-role="navbar" data-id="nav" data-position="fixed">
            <ul>
                <li><a data-icon="grid" data-transition="slideup" href="#library">Library</a></li>
                <li><a data-icon="star" data-transition="slideup" href="#playlists">Playlists</a></li>
                <li><a data-icon="search" data-transition="slideup" href="#search">Search</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="library" data-role="page">
    <div data-role="header">
        <h1>Library</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <ul data-role="listview">
            <li><a href="#genres">Genres</a></li>
            <li><a href="#artists">Artists</a></li>
            <li><a href="#albums">Albums</a></li>
        </ul>
    </div><!-- /content -->

    <div data-role="footer">
        <div data-role="navbar" data-id="nav" data-position="fixed">
            <ul>
                <li><a data-icon="grid" data-transition="slideup" class="ui-btn-active" href="#">Library</a></li>
                <li><a data-icon="star" data-transition="slideup" href="#playlists">Playlists</a></li>
                <li><a data-icon="search" data-transition="slideup" href="#search">Search</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="genres" data-role="page">
    <div data-role="header">
        <h1>Genres</h1>
    </div><!-- /header -->

    <ul data-role="listview" data-filter="true">
    </ul>
</div>

<div id="artists" data-role="page">
    <div data-role="header">
        <h1>Artists</h1>
    </div><!-- /header -->

    <ul data-role="listview" data-filter="true">
    </ul>
</div>

<div id="albums" data-role="page">
    <div data-role="header">
        <h1>Albums</h1>
    </div><!-- /header -->

    <ul data-role="listview" data-filter="true">
    </ul>
</div>

<div id="playlists" data-role="page">
    <div data-role="header">
        <h1>Playlists</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <ul data-role="listview" data-filter="true">
        </ul>
    </div><!-- /content -->

    <div data-role="footer">
        <div data-role="navbar" data-id="nav" data-position="fixed">
            <ul>
                <li><a data-icon="grid" data-transition="slideup" href="#library">Library</a></li>
                <li><a data-icon="star" data-transition="slideup" class="ui-btn-active" href="#">Playlists</a></li>
                <li><a data-icon="search" data-transition="slideup" href="#search">Search</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="search" data-role="page">
    <div data-role="header">
        <h1>Find music</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <form>
            <input id="search-input" type="search" value="Search for music by genre, artist, album or song title">
            <ul id="search-result" data-role="listview" data-inset="true">
            </ul>
        </form>
    </div><!-- /content -->

    <div data-role="footer">
        <div data-role="navbar" data-id="nav" data-position="fixed">
            <ul>
                <li><a data-icon="grid" data-transition="slideup" href="#library">Library</a></li>
                <li><a data-icon="star" data-transition="slideup" href="#playlists">Playlists</a></li>
                <li><a data-icon="search" data-transition="slideup" class="ui-btn-active" href="#">Search</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="page-template" data-role="page" style="display:none">
    <div data-role="header">
        <h1>Page Title</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <p>Page content goes here.</p>      
    </div><!-- /content -->

    <div data-role="footer">
        <div data-role="navbar" data-id="nav" data-position="fixed">
            <ul>
                <li><a data-icon="grid" data-transition="slideup" href="#library">Library</a></li>
                <li><a data-icon="star" data-transition="slideup" href="#playlists">Playlists</a></li>
                <li><a data-icon="search" data-transition="slideup" href="#search">Search</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

</body>
</html>
